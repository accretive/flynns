// This is the basic structure of the arcade.
/*--------------------------------------------------------------------------+
|                                                                           |
|   li.arcade                                                               |
|                                                                           |
| +-----------------------------------------------------------------------+ |
| |                                                                       | |
| |   .arcade__cabinet                                                    | |
| |                                                                       | |
| | +-----------------------------------------------------------+ +-----+ | |
| | |                                                           | |     | | |
| | |   .arcade__display                                        | |  .  | | |
| | |                                                           | |  a  | | |
| | | +-------------------------------------------------+       | |  r  | | |
| | | |                                                 |       | |  c  | | |
| | | |   .arcade__static                               |       | |  a  | | |
| | | |                                                 |       | |  d  | | |
| | | | +-----------------------------------------------+-+     | |  e  | | |
| | | | |                                                 |     | |  _  | | |
| | | +-+   .aracde__screen                               |     | |  _  | | |
| | |   |                                                 |     | |  c  | | |
| | |   | +-----------------------------------------------+-+   | |  o  | | |
| | |   | |                                                 |   | |  n  | | |
| | |   +-+   .arcade__marquee                              |   | |  t  | | |
| | |     |                                                 |   | |  r  | | |
| | |     | +-----------------------------------------------+-+ | |  o  | | |
| | |     | |                                                 | | |  l  | | |
| | |     +-+   .arcade__game-over                            | | |  s  | | |
| | |       |                                                 | | |     | | |
| | |       |                                                 | | |     | | |
| | |       |                                                 | | |     | | |
| | |       +-------------------------------------------------+ | |     | | |
| | |                                                           | |     | | |
| | +-----------------------------------------------------------+ +-----+ | |
| |                                                                       | |
| +-----------------------------------------------------------------------+ |
|                                                                           |
| +-----------------------------------------------------------------------+ |
| |                                                                       | |
| |  .arcade__player                                                      | |
| |                                                                       | |
| +-----------------------------------------------------------------------+ |
|                                                                           |
+--------------------------------------------------------------------------*/


.arcade {
  //
  // Do not use the "position" property on me.
  // - See .flynns
  //

  // Locked to a 4x3 ratio.
  &__display {
    position: relative;
    z-index: 10;

    &::after {
      content: '';
      display: block;
      padding-top: 100% / (4 / 3);
      width: 100%;
    }

    // Or 16 x 9
    &.display--wide::after {
      padding-top: 100% / (16 / 9);
    }
  }

  // @TODO
  //
  // libsass "@extend" still doesn't work quite right, so I'm doing it this
  // way. Fix after bug is fixed.
  // https://github.com/sass/libsass/issues/146
  &__static, &__screen,
  &__marquee, &__game-over,
  &__spacer {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  &__static {
    z-index: 10;
    overflow: hidden;

    img {
      position: absolute;
      width: 100%;
      height: 100%;

      @if $flynns-image-hover {
        @include transition-property(transform);
        @include transition-duration(.15s);
        @include transform(translateZ(0));

        // All the images scale 1.5% on hover.
        .arcade__display:hover & {
          @include transform(translateZ(0) scale(1.1));
        }
      }
    }
  }

  &__screen {
    z-index: 20;
  }

  &__marquee {
    @include linear-gradient(
      to top,
      rgba(0, 0, 0, 0.70) 0,
      rgba(0, 0, 0, 0.50) 24px,
      rgba(0, 0, 0, 0.25) 25%,
      rgba(0, 0, 0, 0.00) 100%
    );
    background-color: transparent;
    z-index: 30;

    &:hover {
      text-decoration: none;
      color: inherit;
    }

    height: auto;
    bottom: -1px;
  }

  &__out-of-order {
    z-index: 40;
    display: none;
  }

  &__player {
    will-change: height;
    @include transition(height .5s);
    @include clearfix;
    height: 0;

    .arcade--open & {
      height: 567px;
      margin-top: 1em;
    }
  }

  // .arcade__name
  &__name {
    .text {
      @include ellipsis;

      // Foundation panels mess with the headers in them, so we need this :(
      margin: 0 !important;

      color: inherit;
      line-height: inherit;
      font-size: inherit;
      font-family: $flynns-font-family;
      font-weight: 500;
      letter-spacing: (25em / 1000);
    }
  }

  // .arcade__details
  &__details {
    @include user-select(none);

    ul {
      @include clearfix;
      margin: 0;
      padding: 0;
      list-style: none;
    }

    li {
      float: left;
      display: block;

      & + li {
        margin-left: 4px;
      }

      &:last-child {
        margin-right: 0;
      }
    }

    .high-def .text {
      color: inherit;
      text-transform: uppercase;
      display: inline-block;
      font-weight: 500;
      letter-spacing: (25em / 1000);
    }

    .phone .icon {
      color: inherit;
    }

    .country {
      font-weight: 500;
      letter-spacing: (25em / 1000);
    }

    .age {
      font-weight: 500;
      letter-spacing: (25em / 1000);
    }

  }

  // .arcade__status
  .arcade__status {
    position: relative;
    padding: 2px 20px;
    line-height: 12px;

    .text {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: (25em / 1000);
      font-weight: 500;
      line-height: 1;
    }
  }

  // .arcade__favorite
  &__favorite {
    color: red;
    text-shadow: 0.5px 0.5px 1px #000000;
  }

  // .arcade__headline
  &__headline {
    p {
      @include word-wrap(break-all);
      margin: 0;
      max-height: 24px;
      font-size: 10px;
      line-height: 12px;
      overflow: hidden;
    }
  }

  // .arcade__line
  &__line {

    // .arcade__line--alpha
    &--alpha {
      @include display(flex);
      @include flex-direction(row);
      @include align-items(flex-end);
      @include transform(translateZ(0));
      font-size: 14px;

      .arcade__name {
        @include flex(auto);
        line-height: 20px;
        height: 20px;

        // @TODO Remove after Foundation is gone.
        .text {
          vertical-align: baseline;
        }
      }

      .arcade__details {
        @include flex(none);

        li {
          line-height: 20px;
          height: 20px;
        }
      }

      .small {
        font-size: 75%;
      }
    }

    // .arcade__line--gamma
    &--gamma {
      @if $flynns-hide-headline {
        display: none;
      }
    }
  }

  // .arcade__special
  &__special {
    position: absolute;
    top: -$flynns-special-spacing;
    right: 0;
    background: $flynns-special-bg;
    padding: .3em 1.5em;
    line-height: 1;
    box-shadow: -2px 2px 3px 0 rgba(0,0,0,0.43);

    .text {
      font-size: 10px;
      color: $flynns-special-color;
      text-transform: uppercase;
      letter-spacing: (20em / 1000);
    }
  }

  // .arcade__controls
  &__controls {
    position: relative;
    z-index: 20;
    width: 2.5rem;
    padding-top: 10px;
    background: #dedede;
  }

  // .arcade__button
  &__button {
    display: block;
    width: 100%;
    text-align: center;
    line-height: 2em;

    .fa {
      color: #b6b6b6;
    }

    &:hover .fa {
      font-size: 1.5em;
      color: #676767;
    }

    &.button--favorite {
      .fa-heart {
        font-size: 1.5em;
        color: red;
      }

      .fa-minus {
        color: #dedede;
      }

      &:hover {
        .fa-minus {
          font-size: 1em;
          color: #dedede;
        }

        .fa-heart {
          font-size: 2em;
        }
      }
    }
  }

  &.is--special {
    .arcade__marquee {
      border-color: $flynns-special-bg;
      border-width: $flynns-special-spacing;
      border-style: solid;
    }

    .arcade__special {
      color: $flynns-special-color;
    }
  }
}


// Only include the arcade that they're using.
// @if $flynns-arcade == asteroids {
//   @import "arcades/asteroids";

// } @else if $flynns-arcade == battlezone {
//   @import "arcades/battlezone";

// } @else if $flynns-arcade == centipede {
//   @import "arcades/centipede";

// } @else if $flynns-arcade == defender {
//   @import "arcades/defender";

// } @else if $flynns-arcade == excitebike {
//   @import "arcades/excitebike";

// } @else if $flynns-arcade == frogger {
//   @import "arcades/frogger";

// }

@import "arcades/asteroids";
@import "arcades/battlezone";
@import "arcades/centipede";
@import "arcades/defender";
@import "arcades/excitebike";
@import "arcades/frogger";
@import "arcades/generic";
